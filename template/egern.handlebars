name: "{{@package 'displayName'}}"
description: |-
  {{#each (split (@package 'description') "\n")}}
  {{{this}}}
  {{/each}}
open_url: "{{@package 'openUrl'}}"
author: |-
  {{#each (@package 'contributors')}}
  {{this}}
  {{/each}}
homepage: "{{@package 'homepage'}}"
icon: "{{@package 'icon'}}"
category: "{{@package 'organizationName'}}"
date: "{{now "yyyy-MM-dd HH:mm:ss"}}"
version: "{{@package 'version'}}"
scriptings:
- http_request:
    name: ðŸ“º BiliBili.Redirect.CDN.upgcxcode.m4s
    match: ^https?:\/\/.+\.bilivideo\.com\/upgcxcode\/
    script_url: https://github.com/BiliUniverse/Redirect/releases/download/v{{@package 'version'}}/request.bundle.js
    arguments:
      _compat.$argument: ''
- http_request:
    name: ðŸ“º BiliBili.Redirect.MCDN.v1.resource.m4s
    match: ^https?:\/\/(.+):(8000|8082)\/v1\/resource\/
    script_url: https://github.com/BiliUniverse/Redirect/releases/download/v{{@package 'version'}}/request.bundle.js
    arguments:
      _compat.$argument: ''
- http_request:
    name: ðŸ“º BiliBili.Redirect.MCDN.upgcxcode.m4s
    match: ^https?:\/\/[xy0-9]+\.mcdn\.bilivideo\.(cn|com):(4483|9102)\/upgcxcode\/
    script_url: https://github.com/BiliUniverse/Redirect/releases/download/v{{@package 'version'}}/request.bundle.js
    arguments:
      _compat.$argument: ''
- http_request:
    name: ðŸ“º BiliBili.Redirect.PCDN.upgcxcode.m4s
    match: ^https?:\/\/(.+):4480\/upgcxcode\/
    script_url: https://github.com/BiliUniverse/Redirect/releases/download/v{{@package 'version'}}/request.bundle.js
    arguments:
      _compat.$argument: ''
- http_request:
    name: ðŸ“º BiliBili.Redirect.Akamaized.upgcxcode.m4s
    match: ^https?:\/\/upos-(hz|bstar1)-mirrorakam\.akamaized\.net/upgcxcode\/
    script_url: https://github.com/BiliUniverse/Redirect/releases/download/v{{@package 'version'}}/request.bundle.js
    arguments:
      _compat.$argument: ''
mitm:
  hostnames:
  - '*.mcdn.bilivideo.cn'
  - upos-sz-mirror*bstar1.bilivideo.com
  - upos-*-mirrorakam.akamaized.net
